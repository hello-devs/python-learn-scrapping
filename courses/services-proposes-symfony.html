<!DOCTYPE html>
<html lang="fr">
 <head>
  <meta http-equiv="x-ua-compatible" content="IE=EDGE">
  <title>Services propos&eacute;s par Symfony [Services]</title>
  <meta charset="UTF-8">
  <meta name="generator" content="SCENARI 4.2.201 / opaleStudi 3.7.062">
  <meta name="revision" content="2021-04-13 08:17">
  <link rel="start" href="module-services.html" title="Les services">
  <meta name="author" content>
  <meta name="keywords" content>
  <meta name="date" content>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="../lib-md/w_scCodeMgr/scCodeMgr.css">
  <link rel="stylesheet" type="text/css" href="../lib-md/w_scImgMgr/scImgMgr.css">
  <script type="text/JavaScript">
/*0*/ var scServices = {id:"knfr5hy5"};
/*1*/ window.scLoadParams = {destUri:"/co/services-proposes-symfony.html", pathToRoot:"../"};
</script>
  <script type="text/JavaScript" src="../lib-sc/scCoLib.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scPaLib.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scSiLib.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scTiLib.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scTooltipMgr.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scMapMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/s_assmnt.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scDragMgr.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scDynUiMgr.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scAssmntMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_studiMgr/jquery-1.11.3.min.js"></script>
  <script type="text/JavaScript" src="../lib-md/s_scSearch/scSearch.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_tplMgr/tplMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_mathjax/mathjaxMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_scCodeMgr/scCodeMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_outMgr/outMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_scMediaMgr/scMediaMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_scImgMgr/scImgMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_searchMgr/searchMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_jwplayerMgr/jwplayerMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_studiMgr/studiMgr.js"></script>
  <script type="text/JavaScript">

/*0*/ try{if(window.opener && window.opener.scServices && window.opener.scServices.id == scServices.id) scServices = window.opener.scServices; else if(window.parent && window.parent.scServices && window.parent.scServices.id == scServices.id) scServices = window.parent.scServices;}catch(e){}
scCodeMgr.registerCode("des:div.code");

scImgMgr.registerAdaptedImage("ide:content/des:img");

scImgMgr.registerGallery("des:div.galFra");

scImgMgr.registerSvg("des:svg");
scImgMgr.registerZoom("des:a.svgZoom",{type:"svg",svgMax:1,toolbar:1,titlePath:"par:/nsi:/des:span.capTi"});

scImgMgr.registerZoom("des:a.imgZoom",{toolbar:1,mag:1,titlePath:"par:/nsi:/des:span.capTi"});

</script>
  <link type="text/css" rel="stylesheet" href="../skin/css/main.css" media="all">
  <link type="text/css" rel="stylesheet" href="../skin/css/skin.css" media="all">
  <link type="text/css" rel="stylesheet" href="../skin/css/print.css" media="print">
  <script src="https://cdn.jwplayer.com/libraries/DyAyCxUH.js"></script>
  <script>jwplayer.key="U+hpi4mMOTCDfyWL3FjgwMi/QSkehLvVr4cukDDoslCcpV31";</script>
  <script type="text/JavaScript">
outMgr.declareOutline("module-services.txt");
	</script>
  <script type="text/JavaScript">searchMgr.declareIndex("index.txt");
</script> </head>
 <body class="default module expUc">
  <div id="root"><header id="header" role="banner"><a class="btnZen" role="button" href="#" target="_self" title="Restaurer l'interface par d&eacute;faut." onclick="tplMgr.sToggleZen();return false;"><span>Restaurer</span></a><h1><span>Les services</span></h1><nav role="navigation"><ul id="accessibility"><li class="waiContent"><a href="#content"><span>contenu</span></a></li><li class="waiMenu"><a href="#menu"><span>menu</span></a></li><li class="waiNav"><a href="#navigation"><span>navigation</span></a></li><li class="waiTools"><a href="#tools"><span>outils</span></a></li></ul></nav></header><main id="main" role="main"><div id="document"><div id="content" tabindex="-1"><div class="scroller"><hr class="hidden"><section class="hBk article expUc"><h2 class="hBk_ti"><span>Services propos&eacute;s par Symfony</span></h2><div class="hBk_co "><div class="iBk info"><div class="iBk_co "><div class="rBk "><p><strong class="txt_emp_is ">Dur&eacute;e</strong>&nbsp;: 1&nbsp;h</p><p><strong class="txt_emp_is ">Environnement de travail</strong>&nbsp;: Visual Studio Code (ou tout autre &eacute;diteur de texte), PHP, Composer, Maker bundle, Doctrine</p><p><strong class="txt_emp_is ">Pr&eacute;-requis</strong>&nbsp;: PHP, Doctrine, Maker bundle</p></div></div></div><div class="iBk info"><div class="iBk_co "><div class="rBk res"><figure role="group" class="resInFlow remoteVideo"><div class="resInFlow_co "><div class="jwplayer" data-media-id="StudiFr/jeJFsSe8"></div></div></figure></div></div></div><div class="context pBk"><h3 class="context_ti pBk_ti"><span><i class="type"><span>Contexte</span></i><span class="hidden"> : </span><span class="title"></span></span></h3><div class="context_co pBk_co"><div class="rBk "><p>Beaucoup de <strong class="txt_emp_is ">frameworks</strong> se basent sur la notion de <strong class="txt_emp_is ">service.</strong> Dans le cas de <strong class="txt_emp_is ">Symfony,</strong> nous pouvons voir les <strong class="txt_emp_is ">services</strong> comme une couche suppl&eacute;mentaire au <strong class="txt_emp_is ">pattern Mod&egrave;le Vue Contr&ocirc;leur (MVC).</strong></p></div><div class="rBk "><p>Les <strong class="txt_emp_is ">services</strong> peuvent fournir des outils compl&eacute;mentaires et r&eacute;utilisables mais aussi apporter une logique m&eacute;tier &agrave; vos applications web <strong class="txt_emp_is ">Symfony.</strong></p></div><div class="rBk "><p>C'est donc dans ces <strong class="txt_emp_is ">services</strong> que doivent se trouver les <strong class="txt_emp_is ">classes</strong> constituantes de la <strong class="txt_emp_is ">logique m&eacute;tier</strong> de l'application.</p></div></div></div><div class="warning pBk"><h3 class="warning_ti pBk_ti"><span><i class="type"><span>Attention</span></i><span class="hidden"> : </span><span class="title"></span></span></h3><div class="warning_co pBk_co"><div class="rBk "><p>Ce qui est appel&eacute; &laquo; service &raquo; dans Symfony ne correspond pas &agrave; ce que nous appelons service (dans le sens de fonctionnalit&eacute; d'un pattern client-server) en ing&eacute;nierie informatique.</p></div></div></div><div class="iBk info"><div class="iBk_co "><div class="rBk res"><figure role="group" class="resInFlow remoteVideo"><div class="resInFlow_co "><div class="jwplayer" data-media-id="StudiFr/zqAGSwH4"></div></div></figure></div></div></div><div class="iBk info"><h3 class="iBk_ti"><span>Objectifs</span></h3><div class="iBk_co "><div class="rBk "><ul class="txt_il "><li class="txt_ili "><p>D&eacute;couvrir les <strong class="txt_emp_is ">services</strong> de <strong class="txt_emp_is ">Symfony</strong></p></li><li class="txt_ili "><p>Utiliser un <strong class="txt_emp_is ">service</strong> propos&eacute; par <strong class="txt_emp_is ">Symfony</strong></p></li><li class="txt_ili "><p>Utiliser <strong class="txt_emp_is ">l'injection de d&eacute;pendance</strong></p></li><li class="txt_ili "><p>D&eacute;couvrir le <strong class="txt_emp_is ">conteneur de services</strong></p></li><li class="txt_ili "><p>Comprendre la notion d'<strong class="txt_emp_is ">autowiring</strong></p></li></ul></div></div></div><div class="context pBk"><h3 class="context_ti pBk_ti"><span><i class="type"><span>Contexte</span></i><span class="hidden"> : </span><span class="title"></span></span></h3><div class="context_co pBk_co"><div class="rBk "><p>En r&eacute;alit&eacute;, &agrave; l'initialisation m&ecirc;me d'un nouveau projet <strong class="txt_emp_is ">Symfony,</strong> celui-ci contient d&eacute;j&agrave; de nombreux <strong class="txt_emp_is ">services.</strong> Vous pouvez voir cela comme une <strong class="txt_emp_is ">boite &agrave; outils</strong> pr&ecirc;ts &agrave; &ecirc;tre utilis&eacute;s fournie par <strong class="txt_emp_is ">Symfony.</strong></p></div><div class="rBk "><p>Aujourd'hui, utiliser un <strong class="txt_emp_is ">service</strong> au sein d'une application se fait, d'ailleurs, tr&egrave;s simplement gr&acirc;ce &agrave; une notion que nous d&eacute;taillerons davantage dans ce cours&nbsp;: <strong class="txt_emp_is ">l'injection de d&eacute;pendance.</strong></p></div><div class="rBk "><p>Dans cette partie, nous allons donc nous int&eacute;resser &agrave; quelques <strong class="txt_emp_is ">services</strong> propos&eacute;s par <strong class="txt_emp_is ">Symfony</strong> avant de d&eacute;couvrir, par la pratique, comment <strong class="txt_emp_is ">injecter</strong> un tel <strong class="txt_emp_is ">service</strong> dans un <strong class="txt_emp_is ">contr&ocirc;leur.</strong></p></div></div></div><div class="iBk info"><div class="iBk_co "><div class="rBk "><p>Un <strong class="txt_emp_is ">service</strong> correspond donc &agrave; une <strong class="txt_emp_is ">fonctionnalit&eacute;</strong> pr&eacute;alablement cod&eacute;e et <strong class="txt_emp_is ">r&eacute;utilisable</strong> dans l'ensemble de notre application <strong class="txt_emp_is ">Symfony.</strong> Plus concr&egrave;tement, un <strong class="txt_emp_is ">service</strong> est repr&eacute;sent&eacute; par une <strong class="txt_emp_is ">classe PHP.</strong></p></div><div class="rBk "><p>Pour comprendre comment fonctionne un <strong class="txt_emp_is ">service,</strong> il faut comprendre le <strong class="txt_emp_is ">conteneur de services.</strong> En r&eacute;alit&eacute;, un <strong class="txt_emp_is ">service</strong> ne pourrait &ecirc;tre utilis&eacute;, en dehors de la <strong class="txt_emp_is ">classe</strong> o&ugrave; il a &eacute;t&eacute; impl&eacute;ment&eacute;, sans ce <strong class="txt_emp_is ">conteneur.</strong></p></div><div class="rBk "><p>Il permet de cr&eacute;er et configurer les <strong class="txt_emp_is ">services</strong> qu'il contient afin qu'ils soient disponibles et pr&ecirc;ts &agrave; l'emploi dans un projet <strong class="txt_emp_is ">Symfony</strong> et ce, d&egrave;s sa cr&eacute;ation.</p></div><div class="rBk "><p>Pour d&eacute;couvrir tous les <strong class="txt_emp_is ">services</strong> disponibles, <strong class="txt_emp_is ">Symfony</strong> propose d'utiliser la <strong class="txt_emp_is ">commande</strong> <code class="txt_code_is ">$ php bin/console debug:autowiring</code>.</p></div><div class="rBk res"><figure role="group" class="resInFlow png"><div class="resInFlow_co "><a href="../res/services-image1.png" class="imgZoom" target="_blank" onclick="scImgMgr.loading(); return false;" title="Cliquez pour agrandir (nouvelle fen&ecirc;tre)"><img src="../res/services-image1_1.png" width="630" height="399" alt></a></div></figure></div><div class="rBk "><p>Voici le r&eacute;sultat ainsi obtenu en <strong class="txt_emp_is ">console</strong>&nbsp;:</p></div><div class="rBk "><p>Notez que cette capture d'&eacute;cran ne contient pas l'ensemble des <strong class="txt_emp_is ">services</strong> propos&eacute;s par <strong class="txt_emp_is ">Symfony.</strong></p></div><div class="rBk "><p>Pour utiliser un <strong class="txt_emp_is ">service,</strong> on ne va pas appeler le <strong class="txt_emp_is ">conteneur</strong> mais bien la <strong class="txt_emp_is ">classe du service</strong> qu'il contient en <strong class="txt_emp_is ">l'injectant</strong> directement en <strong class="txt_emp_is ">param&egrave;tre</strong> de la <strong class="txt_emp_is ">m&eacute;thode</strong> dans laquelle nous souhaitons l'utiliser.</p></div><div class="rBk "><p>Nous parlons d'<strong class="txt_emp_is ">injection de d&eacute;pendance.</strong> En effet, passer un <strong class="txt_emp_is ">service</strong> en <strong class="txt_emp_is ">param&egrave;tre</strong> d'une <strong class="txt_emp_is ">m&eacute;thode</strong> le rend utilisable librement dans ladite <strong class="txt_emp_is ">m&eacute;thode</strong> sans traitement suppl&eacute;mentaire. Cette pratique est rendue possible gr&acirc;ce au m&eacute;canisme de <strong class="txt_emp_is "><i class="txt_spec_is ">l'autowiring.</i></strong></p></div></div></div><div class="method pBk"><h3 class="method_ti pBk_ti"><span><i class="type"><span>M&eacute;thode</span></i><span class="hidden"> : </span><span class="title"></span></span></h3><div class="method_co pBk_co"><div class="rBk "><p>Voyons, sans plus tarder, comment <strong class="txt_emp_is ">injecter une d&eacute;pendance</strong> au sein d'un <strong class="txt_emp_is ">contr&ocirc;leur.</strong></p></div><div class="rBk "><p>Imaginons un <strong class="txt_emp_is ">contr&ocirc;leur</strong> permettant d'afficher tous les produits stock&eacute;s dans une <strong class="txt_emp_is ">base de donn&eacute;es.</strong></p></div></div></div><div class="example pBk"><h3 class="example_ti pBk_ti"><span><i class="type"><span>Exemple</span></i><span class="hidden"> : </span><span class="title">Code</span></span></h3><div class="example_co pBk_co"><div class="rBk listing"><div><div class="code"><div class="code-form "><div class="CodeMirror-static cm-s-default" data-lang="text/x-php"><div class="CodeMirror-code"><div class="CodeMirror-line"><div class="CodeMirror-linenumber">1</div><pre><span class="cm-operator">&lt;?</span><span class="cm-variable">php</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">2</div><pre></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">3</div><pre><span class="cm-keyword">namespace</span> <span class="cm-def">App\Controller</span>;</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">4</div><pre></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">5</div><pre><span class="cm-keyword">use</span> <span class="cm-variable">Symfony\Bundle\FrameworkBundle\Controller\AbstractController</span>;</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">6</div><pre><span class="cm-keyword">use</span> <span class="cm-variable">Symfony\Component\Routing\Annotation\Route</span>;</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">7</div><pre><span class="cm-keyword">use</span> <span class="cm-variable">App\Repository\ProductRepository</span>;</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">8</div><pre></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">9</div><pre><span class="cm-keyword">class</span> <span class="cm-def">ProductController</span> <span class="cm-keyword">extends</span> <span class="cm-variable">AbstractController</span> {</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">10</div><pre>    <span class="cm-comment">/**</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">11</div><pre>     <span class="cm-comment">* @Route(&quot;/&quot;, name=&quot;product&quot;)</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">12</div><pre>     <span class="cm-comment">*/</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">13</div><pre>    <span class="cm-keyword">public</span> <span class="cm-keyword">function</span> <span class="cm-def">index</span>(<span class="cm-variable">ProductRepository</span> <span class="cm-variable-2">$repository</span>) {</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">14</div><pre>        <span class="cm-variable-2">$products</span> <span class="cm-operator">=</span> <span class="cm-variable-2">$repository</span><span class="cm-operator">-&gt;</span><span class="cm-variable">findAll</span>();</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">15</div><pre>        <span class="cm-keyword">return</span> <span class="cm-variable-2">$this</span><span class="cm-operator">-&gt;</span><span class="cm-variable">render</span>(<span class="cm-string">&quot;product.html.twig&quot;</span>, [</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">16</div><pre>            <span class="cm-string">&quot;products&quot;</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">$products</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">17</div><pre>        ]);</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">18</div><pre>    } </pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">19</div><pre>}</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">20</div><pre></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">21</div><pre><span class="cm-operator">?&gt;</span></pre></div></div></div></div><pre class="code-raw noIndex " style="display:none;">&lt;?php

namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\Routing\Annotation\Route;
use App\Repository\ProductRepository;

class ProductController extends AbstractController {
    /**
     * @Route(&quot;/&quot;, name=&quot;product&quot;)
     */
    public function index(ProductRepository $repository) {
        $products = $repository-&gt;findAll();
        return $this-&gt;render(&quot;product.html.twig&quot;, [
            &quot;products&quot; =&gt; $products
        ]);
    } 
}

?&gt;</pre></div></div></div><div class="rBk "><p>Pour r&eacute;cup&eacute;rer tous les produits stock&eacute;s en <strong class="txt_emp_is ">base de donn&eacute;es,</strong> il est n&eacute;cessaire d'appeler la <strong class="txt_emp_is ">m&eacute;thode</strong> <code class="txt_code_is ">findAll()</code>, issue de son <strong class="txt_emp_is ">repository.</strong> En r&eacute;alit&eacute;, <code class="txt_code_is ">ProductRepository</code> est un <strong class="txt_emp_is ">service</strong> que nous pouvons <strong class="txt_emp_is ">injecter</strong> dans notre <strong class="txt_emp_is ">contr&ocirc;leur.</strong></p></div><div class="rBk "><p>Pour ce faire, il suffit de passer une <strong class="txt_emp_is ">instance</strong> de la <strong class="txt_emp_is ">classe du service</strong> souhait&eacute; en <strong class="txt_emp_is ">param&egrave;tre</strong> de la <strong class="txt_emp_is ">m&eacute;thode</strong> <code class="txt_code_is ">index()</code> de notre <strong class="txt_emp_is ">contr&ocirc;leur.</strong> De cette mani&egrave;re, le <strong class="txt_emp_is ">service</strong> est accessible dans l'ensemble de la <strong class="txt_emp_is ">m&eacute;thode.</strong> Nous pouvons ainsi appeler <code class="txt_code_is ">findAll()</code> tr&egrave;s facilement.</p></div><div class="rBk "><p>Cette pratique peut para&icirc;tre magique mais, en r&eacute;alit&eacute;, elle est rendue possible gr&acirc;ce au <strong class="txt_emp_is ">conteneur de services.</strong> Pour rappel, il s'agit d'une <strong class="txt_emp_is ">bo&icirc;te &agrave; outils</strong> pr&eacute;sente dans tous vos projets <strong class="txt_emp_is ">Symfony.</strong> En l'occurence, <code class="txt_code_is ">ProductRepository</code> repr&eacute;sente un des <strong class="txt_emp_is ">services</strong> disponibles dans le <strong class="txt_emp_is ">conteneur.</strong></p></div><div class="rBk "><p>Ce <strong class="txt_emp_is ">conteneur</strong> contient bien d'autres services comme un <strong class="txt_emp_is ">syst&egrave;me de gestion de mails,</strong> un <strong class="txt_emp_is ">syst&egrave;me de gestion de routes,</strong> un <strong class="txt_emp_is ">outil pour se connecter &agrave; une base de donn&eacute;es</strong> mais &eacute;galement <strong class="txt_emp_is ">le moteur de template Twig,</strong> entre autres.</p></div><div class="rBk "><p>Ainsi, si vous avez besoin de l'un de ces outils, il suffit d'<strong class="txt_emp_is ">injecter la d&eacute;pendance</strong> comme vous venez de le faire avec <code class="txt_code_is ">ProductRepository</code>. Le <strong class="txt_emp_is ">conteneur</strong> comprendra automatiquement ce dont vous avez besoin gr&acirc;ce au <strong class="txt_emp_is ">param&egrave;tre</strong> pass&eacute; &agrave; la <strong class="txt_emp_is ">m&eacute;thode.</strong> Cette pratique s'appelle <strong class="txt_emp_is ">autowiring.</strong></p></div><div class="rBk "><p>Gr&acirc;ce &agrave; cette notion, le <strong class="txt_emp_is ">conteneur de services</strong> va se charger de construire une <strong class="txt_emp_is ">instance</strong> de la <strong class="txt_emp_is ">classe</strong> demand&eacute;e s'il la conna&icirc;t. En l'occurrence, c'est lui qui a cr&eacute;&eacute; l'<strong class="txt_emp_is ">instance</strong> <code class="txt_code_is ">$repository</code> issue de la <strong class="txt_emp_is ">classe</strong> <code class="txt_code_is ">ProductRepository</code>. Il a donc compris cette <strong class="txt_emp_is ">classe</strong> pour en construire une <strong class="txt_emp_is ">instance</strong> &agrave; partir de son <strong class="txt_emp_is ">constructeur,</strong> bien s&ucirc;r.</p></div><div class="rBk "><p>En bref, le <strong class="txt_emp_is ">conteneur de services</strong> repr&eacute;sente une <strong class="txt_emp_is ">bo&icirc;te &agrave; outils</strong> contenant des <strong class="txt_emp_is ">classes PHP</strong> qu'il peut comprendre pour les <strong class="txt_emp_is ">instancier</strong> sur demande.</p></div><div class="rBk "><p>Pour <strong class="txt_emp_is ">injecter un service</strong> de cette mani&egrave;re, il suffit de savoir s'il existe gr&acirc;ce &agrave; la <strong class="txt_emp_is ">commande</strong> <code class="txt_code_is ">$ php bin/console debug:autowiring</code>. Tous les <strong class="txt_emp_is ">services</strong> retourn&eacute;s par cette simple commande sont accessibles exactement de la m&ecirc;me mani&egrave;re dans vos <strong class="txt_emp_is ">classes.</strong></p></div><div class="rBk "><p>Vous pouvez n&eacute;anmoins remarquer que le <code class="txt_code_is ">ProductRepository</code> n'appara&icirc;t pas en sortie de cette <strong class="txt_emp_is ">commande.</strong> En r&eacute;alit&eacute;, elle est cens&eacute;e afficher uniquement les <strong class="txt_emp_is ">services</strong> rendus disponibles par <strong class="txt_emp_is ">Symfony.</strong> Or, c'est nous qui avons cr&eacute;&eacute; automatiquement ce <strong class="txt_emp_is ">service</strong> en utilisant la <strong class="txt_emp_is ">commande</strong> <code class="txt_code_is ">$ php bin/console make:entity</code>.</p></div><div class="rBk "><p>Ainsi, pour obtenir la liste de <strong class="txt_emp_is ">tous les services,</strong> m&ecirc;mes les n&ocirc;tres, il suffit d'ajouter le <strong class="txt_emp_is ">drapeau</strong> <code class="txt_code_is ">--all</code> &agrave; la <strong class="txt_emp_is ">commande d'autowiring.</strong></p></div><div class="rBk res"><figure role="group" class="resInFlow png"><div class="resInFlow_co "><a href="../res/services-image2.png" class="imgZoom" target="_blank" onclick="scImgMgr.loading(); return false;" title="Cliquez pour agrandir (nouvelle fen&ecirc;tre)"><img src="../res/services-image2_1.png" width="630" height="347" alt></a></div></figure></div><div class="rBk "><p>Nous d&eacute;couvrons ici que toutes les <strong class="txt_emp_is ">classes</strong> que nous avons cr&eacute;&eacute;es jusqu'ici en font partie et sont donc accessibles depuis n'importe o&ugrave;.</p></div><div class="rBk "><p>Cet ajout a &eacute;t&eacute; rendu possible gr&acirc;ce &agrave; la <strong class="txt_emp_is ">configuration</strong> du <strong class="txt_emp_is ">conteneur de services</strong> disponible dans le fichier <code class="txt_code_is ">./config/services.yaml</code>.</p></div><div class="rBk res"><figure role="group" class="resInFlow png"><div class="resInFlow_co "><a href="../res/services-image3.png" class="imgZoom" target="_blank" onclick="scImgMgr.loading(); return false;" title="Cliquez pour agrandir (nouvelle fen&ecirc;tre)"><img src="../res/services-image3_1.png" width="630" height="322" alt></a></div></figure></div><div class="rBk "><p>Dans la section <code class="txt_code_is ">services</code> du fichier, nous d&eacute;couvrons que, par d&eacute;faut, <strong class="txt_emp_is ">Symfony</strong> a configur&eacute; la <strong class="txt_emp_is ">propri&eacute;t&eacute;</strong> <code class="txt_code_is ">autowire</code> &agrave; <code class="txt_code_is ">true</code>. Cette <strong class="txt_emp_is ">configuration</strong> permet de rendre automatique <strong class="txt_emp_is ">l'injection de d&eacute;pendances.</strong> Dans la m&ecirc;me id&eacute;e, la <strong class="txt_emp_is ">propri&eacute;t&eacute;</strong> <code class="txt_code_is ">autoconfigure</code> &agrave; <code class="txt_code_is ">true</code> permet de charger automatiquement les <strong class="txt_emp_is ">services.</strong></p></div><div class="rBk "><p>Plus bas dans le code <strong class="txt_emp_is ">YAML,</strong> nous d&eacute;couvrons que toutes les <strong class="txt_emp_is ">classes</strong> se trouvant dans le dossier <code class="txt_code_is ">./src</code> peuvent &ecirc;tre utilis&eacute;es en tant que service, &agrave; l'exception de celles se trouvant dans les dossiers <strong class="txt_emp_is ">DependencyInjection, Entity, Migrations, Tests</strong> et du fichier <strong class="txt_emp_is ">Kernel.php.</strong></p></div><div class="rBk "><p>Cela signifie que le <strong class="txt_emp_is ">conteneur de services</strong> va charger et s'injecter toutes les <strong class="txt_emp_is ">classes</strong> qui se trouvent dans le dossier <code class="txt_code_is ">./src</code> au chargement de l'application <strong class="txt_emp_is ">Symfony.</strong></p></div></div></div><div class="syntax pBk"><h3 class="syntax_ti pBk_ti"><span><i class="type"><span>Syntaxe</span></i><span class="hidden"> : </span><span class="title">&Agrave; retenir</span></span></h3><div class="syntax_co pBk_co"><div class="rBk "><p>Cette partie du cours contient beaucoup de <strong class="txt_emp_is ">th&eacute;orie,</strong> je vous invite, n&eacute;anmoins, &agrave; retenir certains &eacute;l&eacute;ments de <strong class="txt_emp_is ">syntaxe.</strong> La <strong class="txt_emp_is ">commande</strong> <code class="txt_code_is ">$ php bin/console debug:autowiring</code> va vous &ecirc;tre utile tout au long de votre carri&egrave;re de d&eacute;veloppeur <strong class="txt_emp_is ">Symfony</strong> &eacute;tant donn&eacute; qu'elle permet d'afficher en <strong class="txt_emp_is ">console</strong> tous les <strong class="txt_emp_is ">services</strong> propos&eacute;s par le framework.</p></div><div class="rBk "><p>Associ&eacute;e au <strong class="txt_emp_is ">drapeau</strong> <code class="txt_code_is ">&mdash;all</code>, elle renvoie &eacute;galement les <strong class="txt_emp_is ">classes,</strong> situ&eacute;es dans le dossier <code class="txt_code_is ">./src</code>, automatiquement ajout&eacute;es au <strong class="txt_emp_is ">conteneur de services.</strong></p></div><div class="rBk "><p>Ce m&eacute;canisme est rendu possible par la <strong class="txt_emp_is ">configuration</strong> du <strong class="txt_emp_is ">conteneur</strong> disponible et modifiable depuis le fichier <code class="txt_code_is ">./config/services.yaml</code> de votre projet <strong class="txt_emp_is ">Symfony.</strong></p></div></div></div><div class="iBk info"><div class="iBk_co "><div class="rBk res"><figure role="group" class="resInFlow remoteVideo"><div class="resInFlow_co "><div class="jwplayer" data-media-id="StudiFr/o5xzO59D"></div></div></figure></div></div></div></div></section></div></div></div><div id="toolbox"><nav id="menu" class="pageSelector hidden" role="navigation" tabindex="-1" aria-label="menu principal"><hr class="hidden"><ul class="mnu static" data-totalPages="8"><li class="sel_yes anc_no type_l  dpt_0 expUc"><div class="lbl type_l" id="services-proposes-symfony.html"><span class="item"><span>Services propos&eacute;s par Symfony</span></span></div></li><li class="sel_no anc_no type_l  dpt_0 practUc"><div class="lbl type_l" id="services-proposes-symfony_1.html"><a href="services-proposes-symfony_1.html" target="_self" class="item"><span>Exercice&nbsp;: Exercice applicatif&nbsp;: Utiliser le service LoggerInterface</span></a></div></li><li class="sel_no anc_no type_l  dpt_0 expUc"><div class="lbl type_l" id="creation-services-application.html"><a href="creation-services-application.html" target="_self" class="item"><span>Cr&eacute;ation des services de l'application</span></a></div></li><li class="sel_no anc_no type_l  dpt_0 practUc"><div class="lbl type_l" id="creation-services-application_1.html"><a href="creation-services-application_1.html" target="_self" class="item"><span>Exercice&nbsp;: Exercice applicatif : Un service de r&eacute;duction de prix</span></a></div></li><li class="sel_no anc_no type_l  dpt_0 expUc"><div class="lbl type_l" id="essentiel.html"><a href="essentiel.html" target="_self" class="item"><span>Essentiel</span></a></div></li><li class="sel_no anc_no type_b  type_b_c dpt_0 ueDiv"><div class="lbl type_b" id="exercice-final.html"><a href="exercice-final.html" target="_self" class="item"><span>Auto-&eacute;valuation</span></a></div></li></ul></nav><div id="tools" tabindex="-1"><hr class="hidden"><nav class="headingSelector" role="navigation"><ul class="mnu"><li class="anc_no home" data-position="uncle"><div class="lbl"><a href="module-services.html" target="_self" class="item" type="index" title="Page d'accueil du module"><span>Accueil</span></a></div></li><li class="anc_yes module" data-position="parent"><div class="lbl"><span class="item"><span>Module</span></span></div></li></ul></nav></div><div id="navigation" tabindex="-1"><hr class="hidden"><a class="showMenu" role="button" href="#" target="_self" title="Menu" onclick="studiMgr.showHideMenu();return false;"><span>Menu</span></a><div id="fontSize"><a class="increase_font" href="#" title="Augmenter taille police" onclick="studiMgr.increaseFont();return false;"></a><a class="decrease_font" href="#" title="Diminuer taille police" onclick="studiMgr.decreaseFont();return false;"></a></div><nav class="pageTurner" role="navigation"><a rel="prev" href="module-services.html" target="_self" class="btnNav prev" title="Pr&eacute;c&eacute;dent (Accueil)"><span>Pr&eacute;c&eacute;dent</span></a><a rel="next" href="services-proposes-symfony_1.html" target="_self" class="btnNav next" title="Suivant (Exercice&nbsp;: Exercice applicatif&nbsp;: Utiliser le service LoggerInterface)"><span>Suivant</span></a></nav></div></div></main><footer id="footer" role="contentinfo" tabindex="-1"><hr class="hidden"><a id="linkSp" target="_blank" href="https://www.scenari.org" title="R&eacute;alis&eacute; avec Scenari (nouvelle fen&ecirc;tre)"><span><img alt="R&eacute;alis&eacute; avec Scenari (nouvelle fen&ecirc;tre)" src="../skin/img/tpl/scBtn.png"></span></a></footer></div>
  <script type="text/JavaScript" src="../skin/js/skin.js"></script>
  <script type="text/javascript">searchMgr.init({searchType:"listResults"});studiMgr.init();tplMgr.init();outMgr.init();scCodeMgr.init();scImgMgr.init();scMediaMgr.init("ide:content/chi:div/chi:section/des:.mediaPlayer",{processYoutubeUrls :true});</script>
 </body>
</html>
