<!DOCTYPE html>
<html lang="fr">
 <head>
  <meta http-equiv="x-ua-compatible" content="IE=EDGE">
  <title>S'authentifier &agrave; l'aide d'un mot de passe [G&eacute;rer les acc&egrave;s &agrave; une API]</title>
  <meta charset="UTF-8">
  <meta name="generator" content="SCENARI 4.2.201 / opaleStudi 3.7.062">
  <meta name="revision" content="2021-03-08 13:41">
  <link rel="start" href="module-gerer-acces-api.html" title="G&eacute;rer les acc&egrave;s &agrave; une API">
  <meta name="author" content>
  <meta name="keywords" content>
  <meta name="date" content>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="../lib-md/w_scCodeMgr/scCodeMgr.css">
  <link rel="stylesheet" type="text/css" href="../lib-md/w_scImgMgr/scImgMgr.css">
  <script type="text/JavaScript">
/*0*/ var scServices = {id:"km0murnh"};
/*1*/ window.scLoadParams = {destUri:"/co/authentifier-aide-mot-passe.html", pathToRoot:"../"};
</script>
  <script type="text/JavaScript" src="../lib-sc/scCoLib.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scPaLib.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scSiLib.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scTiLib.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scTooltipMgr.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scMapMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/s_assmnt.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scDragMgr.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scDynUiMgr.js"></script>
  <script type="text/JavaScript" src="../lib-sc/scAssmntMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_studiMgr/jquery-1.11.3.min.js"></script>
  <script type="text/JavaScript" src="../lib-md/s_scSearch/scSearch.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_tplMgr/tplMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_mathjax/mathjaxMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_scCodeMgr/scCodeMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_outMgr/outMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_scMediaMgr/scMediaMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_scImgMgr/scImgMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_searchMgr/searchMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_jwplayerMgr/jwplayerMgr.js"></script>
  <script type="text/JavaScript" src="../lib-md/w_studiMgr/studiMgr.js"></script>
  <script type="text/JavaScript">

/*0*/ try{if(window.opener && window.opener.scServices && window.opener.scServices.id == scServices.id) scServices = window.opener.scServices; else if(window.parent && window.parent.scServices && window.parent.scServices.id == scServices.id) scServices = window.parent.scServices;}catch(e){}
scCodeMgr.registerCode("des:div.code");

scImgMgr.registerAdaptedImage("ide:content/des:img");

scImgMgr.registerGallery("des:div.galFra");

scImgMgr.registerSvg("des:svg");
scImgMgr.registerZoom("des:a.svgZoom",{type:"svg",svgMax:1,toolbar:1,titlePath:"par:/nsi:/des:span.capTi"});

scImgMgr.registerZoom("des:a.imgZoom",{toolbar:1,mag:1,titlePath:"par:/nsi:/des:span.capTi"});

</script>
  <link type="text/css" rel="stylesheet" href="../skin/css/main.css" media="all">
  <link type="text/css" rel="stylesheet" href="../skin/css/skin.css" media="all">
  <link type="text/css" rel="stylesheet" href="../skin/css/print.css" media="print">
  <script src="https://cdn.jwplayer.com/libraries/DyAyCxUH.js"></script>
  <script>jwplayer.key="U+hpi4mMOTCDfyWL3FjgwMi/QSkehLvVr4cukDDoslCcpV31";</script>
  <script type="text/JavaScript">
outMgr.declareOutline("module-gerer-acces-api.txt");
	</script>
  <script type="text/JavaScript">searchMgr.declareIndex("index.txt");
</script> </head>
 <body class="default module expUc">
  <div id="root"><header id="header" role="banner"><a class="btnZen" role="button" href="#" target="_self" title="Restaurer l'interface par d&eacute;faut." onclick="tplMgr.sToggleZen();return false;"><span>Restaurer</span></a><h1><span>G&eacute;rer les acc&egrave;s &agrave; une API</span></h1><nav role="navigation"><ul id="accessibility"><li class="waiContent"><a href="#content"><span>contenu</span></a></li><li class="waiMenu"><a href="#menu"><span>menu</span></a></li><li class="waiNav"><a href="#navigation"><span>navigation</span></a></li><li class="waiTools"><a href="#tools"><span>outils</span></a></li></ul></nav></header><main id="main" role="main"><div id="document"><div id="content" tabindex="-1"><div class="scroller"><hr class="hidden"><section class="hBk article expUc"><h2 class="hBk_ti"><span>S'authentifier &agrave; l'aide d'un mot de passe</span></h2><div class="hBk_co "><div class="iBk info"><div class="iBk_co "><div class="rBk "><p><strong class="txt_emp_is ">Dur&eacute;e&nbsp;:</strong> 1&nbsp;h</p><p><strong class="txt_emp_is ">Environnement de travail&nbsp;:</strong> windows / (Mac OSX)</p><p><strong class="txt_emp_is ">Pr&eacute;-requis&nbsp;:</strong></p></div><div class="rBk "><ul class="txt_il "><li class="txt_ili "><p>Savoir d&eacute;velopper une API REST</p></li><li class="txt_ili "><p>Bases de Node.js</p></li><li class="txt_ili "><p>Bases d'Express.js</p></li></ul></div></div></div><div class="iBk info"><div class="iBk_co "><div class="rBk res"><figure role="group" class="resInFlow remoteVideo"><div class="resInFlow_co "><div class="jwplayer" data-media-id="StudiFr/tddILWE9"></div></div></figure></div></div></div><div class="context pBk"><h3 class="context_ti pBk_ti"><span><i class="type"><span>Contexte</span></i><span class="hidden"> : </span><span class="title"></span></span></h3><div class="context_co pBk_co"><div class="rBk "><p>Les applications modernes sont souvent d&eacute;velopp&eacute;es autour d'une API REST et diff&eacute;rents clients (web, mobile, desktop) qui s'authentifient et communiquent avec elles.</p></div><div class="rBk "><p>Dans ce cours, nous allons explorer, &agrave; l'aide de Node.js et d'Express.js, les m&eacute;thodes d'authentification les plus populaires et utilis&eacute;es.</p></div><div class="rBk "><p>D'abord, vous apprendrez &agrave; impl&eacute;menter un syst&egrave;me d'authentification simple appel&eacute; HTTP Basic.</p></div><div class="rBk "><p>Ensuite, vous d&eacute;couvrirez le standard JSON Web Token et apprendrez &agrave; l'impl&eacute;menter et &agrave; le consommer c&ocirc;t&eacute; client.</p></div><div class="rBk "><p>Enfin, nous conclurons ce cours par une introduction &agrave; OAuth&nbsp;: ce protocole n'est pas tout &agrave; fait une m&eacute;thode d'authentification, mais il est souvent utilis&eacute; comme tel.</p></div><div class="rBk "><p>Pour suivre ce cours et faire les exercices, il vous faudra t&eacute;l&eacute;charger une API REST disponible gratuitement sur GitHub <a class="op_txt_ul" target="_blank" href="https://github.com/mickaelandrieu/bookstore-node-rest-api" rel="noopener" title="&agrave; cette adresse (nouvelle fen&ecirc;tre)"><span>&agrave; cette adresse</span></a>&nbsp;: t&eacute;l&eacute;chargez le projet sur votre machine et suivez les instructions not&eacute;es dans le fichier <i class="txt_spec_is ">README.md</i>.</p></div><div class="rBk "><p>&Agrave; la fin de ce cours, vous serez en capacit&eacute; de mettre en place un syst&egrave;me d'authentification sur vos API REST et de vous authentifier &agrave; des API REST ferm&eacute;es.</p></div></div></div><div class="iBk info"><div class="iBk_co "><div class="rBk res"><figure role="group" class="resInFlow remoteVideo"><div class="resInFlow_co "><div class="jwplayer" data-media-id="StudiFr/FfU31ZpH"></div></div></figure></div></div></div><div class="iBk info"><h3 class="iBk_ti"><span>Objectifs de la partie</span></h3><div class="iBk_co "><div class="rBk "><ul class="txt_il "><li class="txt_ili "><p>Expliquer l'authentification HTTP Basic</p></li><li class="txt_ili "><p>Impl&eacute;menter c&ocirc;t&eacute; serveur</p></li><li class="txt_ili "><p>V&eacute;rifier c&ocirc;t&eacute; client</p></li></ul></div></div></div><div class="context pBk"><h3 class="context_ti pBk_ti"><span><i class="type"><span>Contexte</span></i><span class="hidden"> : </span><span class="title"></span></span></h3><div class="context_co pBk_co"><div class="rBk "><p>Lorsqu'on pense &agrave; l'authentification, on pense g&eacute;n&eacute;ralement &agrave; un formulaire avec un login et un mot de passe. Lorsque nous n'avons pas la possibilit&eacute; ou la volont&eacute; d'afficher un formulaire d'authentification, nous pouvons utiliser le m&eacute;canisme HTTP &laquo;&nbsp;<i class="txt_spec_is ">Basic</i>&nbsp;&raquo; qui permet &agrave; un client HTTP d'envoyer au serveur un login et un mot de passe encod&eacute;.</p></div><div class="rBk "><p>Quand le client va faire une premi&egrave;re demande au serveur REST, le serveur va lui retourner une r&eacute;ponse vide avec le code 401&nbsp;accompagn&eacute; d'un en-t&ecirc;te &laquo;&nbsp;<i class="txt_spec_is ">WWW-Authenticate Basic</i>&nbsp;&raquo;. La plupart des navigateurs vont afficher alors un formulaire de connexion s'ils d&eacute;tectent cet en-t&ecirc;te HTTP&nbsp;:</p></div><div class="rBk res"><figure role="group" class="resInFlow png"><div class="resInFlow_co "><a href="../res/gerer-acces-api-authenti-img-1.png" class="imgZoom" target="_blank" onclick="scImgMgr.loading(); return false;" title="Cliquez pour agrandir (nouvelle fen&ecirc;tre)"><img src="../res/gerer-acces-api-authenti-img-1_1.png" width="630" height="354" alt></a></div></figure></div><div class="rBk "><p>Une fois les informations soumises et valid&eacute;es, le serveur nous autorise l'acc&egrave;s.</p></div><div class="rBk "><p>D'un point de vue HTTP, voici ce qu'il se passe entre le serveur (notre API REST) et le client HTTP (notre application web ou mobile)&nbsp;:</p></div><div class="rBk res"><figure role="group" class="resInFlow png"><div class="resInFlow_co "><a href="../res/gerer-acces-api-authenti-img-2.png" class="imgZoom" target="_blank" onclick="scImgMgr.loading(); return false;" title="Cliquez pour agrandir (nouvelle fen&ecirc;tre)"><img src="../res/gerer-acces-api-authenti-img-2_1.png" width="630" height="314" alt></a></div></figure></div><div class="rBk "><p>Dans cette partie, nous allons voir comment en quelques lignes de code nous pouvons mettre en place ce syst&egrave;me d'authentification et comment c&ocirc;t&eacute; client nous allons pouvoir nous authentifier aupr&egrave;s de l'API REST.</p></div></div></div><div class="method pBk"><h3 class="method_ti pBk_ti"><span><i class="type"><span>M&eacute;thode</span></i><span class="hidden"> : </span><span class="title"></span></span></h3><div class="method_co pBk_co"><div class="rBk "><p>Comme souvent dans l'&eacute;cosyst&egrave;me Node.js et Express.js, des d&eacute;veloppeurs et d&eacute;veloppeuses ont eu &agrave; impl&eacute;menter cette fonctionnalit&eacute; avant vous et ont cr&eacute;&eacute; une librairie pour cela&nbsp;!</p></div><div class="rBk "><p>Il faudra installer &laquo;&nbsp;<i class="txt_spec_is ">express-basic-auth</i>&nbsp;&raquo; dans votre projet&nbsp;:</p></div><div class="rBk "><p><strong class="txt_emp_is "><code class="txt_code_is ">npm i express-basic-auth</code></strong></p></div><div class="rBk "><p>Cette librairie se comporte comme une extension du framework Express.js que nous allons activer.</p></div><div class="rBk "><p>Nous importons ensuite la librairie et nous la configurons&nbsp;:</p></div><div class="rBk listing"><div><div class="code"><div class="code-form "><div class="CodeMirror-static cm-s-default" data-lang="text/javascript"><div class="CodeMirror-code"><div class="CodeMirror-line"><div class="CodeMirror-linenumber">1</div><pre><span class="cm-keyword">const</span> <span class="cm-def">app</span> <span class="cm-operator">=</span> <span class="cm-variable">express</span><span class="cm-undefined">()</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">2</div><pre><span class="cm-keyword">const</span> <span class="cm-def">basicAuth</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span><span class="cm-undefined">(</span><span class="cm-string">'express-basic-auth'</span><span class="cm-undefined">)</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">3</div><pre></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">4</div><pre><span class="cm-variable">app</span><span class="cm-undefined">.</span><span class="cm-property">use</span><span class="cm-undefined">(</span><span class="cm-variable">basicAuth</span><span class="cm-undefined">({</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">5</div><pre>    <span class="cm-property">users</span><span class="cm-undefined">: {</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">6</div><pre>        <span class="cm-string cm-property">'john'</span><span class="cm-undefined">: </span><span class="cm-string">'superSecret'</span><span class="cm-undefined">,</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">7</div><pre>        <span class="cm-string cm-property">'elise'</span><span class="cm-undefined">: </span><span class="cm-string">'12345678'</span><span class="cm-undefined">,</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">8</div><pre>    },</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">9</div><pre>    <span class="cm-property">challenge</span><span class="cm-undefined">: </span><span class="cm-atom">true</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">10</div><pre>}))</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">11</div><pre></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">12</div><pre><span class="cm-variable">app</span><span class="cm-undefined">.</span><span class="cm-property">get</span><span class="cm-undefined">(</span><span class="cm-string">'/'</span><span class="cm-undefined">, (</span><span class="cm-def">req</span><span class="cm-undefined">, </span><span class="cm-def">res</span><span class="cm-undefined">) </span><span class="cm-operator">=&gt;</span> {</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">13</div><pre>    <span class="cm-variable-2">res</span><span class="cm-undefined">.</span><span class="cm-property">json</span><span class="cm-undefined">({</span><span class="cm-string cm-property">'message'</span><span class="cm-undefined">: </span><span class="cm-string">&quot;Home, nothing interesting here.&quot;</span><span class="cm-undefined">})</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">14</div><pre>})</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">15</div><pre></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">16</div><pre><span class="cm-variable">app</span><span class="cm-undefined">.</span><span class="cm-property">listen</span><span class="cm-undefined">(</span><span class="cm-number">3000</span><span class="cm-undefined">, () </span><span class="cm-operator">=&gt;</span> {</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">17</div><pre>  <span class="cm-variable">console</span><span class="cm-undefined">.</span><span class="cm-property">log</span><span class="cm-undefined">(</span><span class="cm-string">'[Server] Started.'</span><span class="cm-undefined">)</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">18</div><pre>})</pre></div></div></div></div><pre class="code-raw noIndex " style="display:none;">const app = express()
const basicAuth = require('express-basic-auth')

app.use(basicAuth({
    users: {
        'john': 'superSecret',
        'elise': '12345678',
    },
    challenge: true
}))

app.get('/', (req, res) =&gt; {
    res.json({'message': &quot;Home, nothing interesting here.&quot;})
})

app.listen(3000, () =&gt; {
  console.log('[Server] Started.')
})</pre></div></div></div><div class="rBk "><p>Maintenant, si vous ex&eacute;cutez le fichier et que vous acc&eacute;dez au navigateur sur le port 3&nbsp;000, vous devriez voir le formulaire appara&icirc;tre comme dans l'une des captures d'&eacute;cran pr&eacute;c&eacute;dentes.</p></div><div class="rBk "><p>Vous pouvez alors entrer les identifiants qui sont propos&eacute;s dans ce code d'exemple&nbsp;: l'utilisateur &laquo;&nbsp;<strong class="txt_emp_is "><i class="txt_spec_is "><code class="txt_code_is ">john</code></i></strong>&nbsp;&raquo; qui a pour mot de passe &laquo;&nbsp;<strong class="txt_emp_is "><i class="txt_spec_is "><code class="txt_code_is ">superSecret</code></i></strong>&nbsp;&raquo;.</p></div><div class="rBk "><p><strong class="txt_emp_is ">Revenons un peu au code produit</strong></p></div><div class="rBk "><ul class="txt_il "><li class="txt_ili "><p>D'abord, nous avons inclus l'extension Express avec un <strong class="txt_emp_is "><code class="txt_code_is ">require</code></strong>(&laquo;&nbsp;<i class="txt_spec_is "><strong class="txt_emp_is "><code class="txt_code_is ">express-basic-auth</code></strong></i>&nbsp;&raquo;),</p></li><li class="txt_ili "><p>Ensuite, nous avons configur&eacute; et activ&eacute; cette extension avec le code suivant :</p></li></ul></div><div class="rBk listing"><div><div class="code"><div class="code-form "><div class="CodeMirror-static cm-s-default" data-lang="text/javascript"><div class="CodeMirror-code"><div class="CodeMirror-line"><div class="CodeMirror-linenumber">1</div><pre><span class="cm-variable">app</span><span class="cm-undefined">.</span><span class="cm-property">use</span><span class="cm-undefined">(</span><span class="cm-variable">basicAuth</span><span class="cm-undefined">({</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">2</div><pre>    <span class="cm-property">users</span><span class="cm-undefined">: {</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">3</div><pre>        <span class="cm-string cm-property">'john'</span><span class="cm-undefined">: </span><span class="cm-string">'superSecret'</span><span class="cm-undefined">,</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">4</div><pre>        <span class="cm-string cm-property">'elise'</span><span class="cm-undefined">: </span><span class="cm-string">'12345678'</span><span class="cm-undefined">,</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">5</div><pre>    },</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">6</div><pre>    <span class="cm-property">challenge</span><span class="cm-undefined">: </span><span class="cm-atom">true</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">7</div><pre>}))</pre></div></div></div></div><pre class="code-raw noIndex " style="display:none;">app.use(basicAuth({
    users: {
        'john': 'superSecret',
        'elise': '12345678',
    },
    challenge: true
}))</pre></div></div></div><div class="rBk "><p>Comme on peut le voir, l'objet <strong class="txt_emp_is "><code class="txt_code_is ">basicAuth</code></strong> a 2&nbsp;propri&eacute;t&eacute;s&nbsp;:</p></div><div class="rBk "><ol class="txt_ol "><li class="txt_oli "><p>La propri&eacute;t&eacute; <strong class="txt_emp_is ">users</strong> qui est une liste de login/mot de passe, pour un nouvel utilisateur il faudra ajouter ici une nouvelle entr&eacute;e,</p></li><li class="txt_oli "><p>La propri&eacute;t&eacute; <strong class="txt_emp_is ">challenge</strong> permet d'ajouter l'en-t&ecirc;te HTTP &laquo;&nbsp;<i class="txt_spec_is ">WWW-Authenticate Basic</i>&nbsp;&raquo; dans la r&eacute;ponse de l'application. Si cet en-t&ecirc;te n'est pas pr&eacute;sent, alors le navigateur n'affiche pas de formulaire de connexion.</p></li></ol></div><div class="rBk "><p>Comment v&eacute;rifier que cette API fonctionne sans &eacute;crire de code&nbsp;? Nous pouvons par exemple utiliser le <a class="op_txt_ul" target="_blank" href="https://www.postman.com/" rel="noopener" title="logiciel Postman (nouvelle fen&ecirc;tre)"><span>logiciel Postman</span></a>&nbsp;:</p></div><div class="rBk res"><figure role="group" class="resInFlow png"><div class="resInFlow_co "><a href="../res/gerer-acces-api-authenti-img-3.png" class="imgZoom" target="_blank" onclick="scImgMgr.loading(); return false;" title="Cliquez pour agrandir (nouvelle fen&ecirc;tre)"><img src="../res/gerer-acces-api-authenti-img-3_1.png" width="630" height="354" alt></a></div></figure></div><div class="rBk "><p>Et voil&agrave;&nbsp;!</p></div><div class="rBk "><p>N'h&eacute;sitez pas &agrave; utiliser cette API REST de test, disponible &agrave; cette adresse, pour exp&eacute;rimenter <a class="op_txt_ul" target="_blank" href="https://bookstore-http-basic-auth.herokuapp.com/" rel="noopener" title="la notion d'authentification (nouvelle fen&ecirc;tre)"><span>la notion d'authentification</span></a>&nbsp;</p></div></div></div><div class="example pBk"><h3 class="example_ti pBk_ti"><span><i class="type"><span>Exemple</span></i><span class="hidden"> : </span><span class="title">Code</span></span></h3><div class="example_co pBk_co"><div class="rBk listing"><div><div class="code"><div class="code-form "><div class="CodeMirror-static cm-s-default" data-lang="text/javascript"><div class="CodeMirror-code"><div class="CodeMirror-line"><div class="CodeMirror-linenumber">1</div><pre><span class="cm-comment">// index.js</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">2</div><pre><span class="cm-keyword">const</span> <span class="cm-def">app</span> <span class="cm-operator">=</span> <span class="cm-variable">express</span><span class="cm-undefined">()</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">3</div><pre><span class="cm-keyword">const</span> <span class="cm-def">basicAuth</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span><span class="cm-undefined">(</span><span class="cm-string">'express-basic-auth'</span><span class="cm-undefined">)</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">4</div><pre></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">5</div><pre><span class="cm-variable">app</span><span class="cm-undefined">.</span><span class="cm-property">use</span><span class="cm-undefined">(</span><span class="cm-variable">basicAuth</span><span class="cm-undefined">({</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">6</div><pre>    <span class="cm-property">users</span><span class="cm-undefined">: {</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">7</div><pre>        <span class="cm-string cm-property">'john'</span><span class="cm-undefined">: </span><span class="cm-string">'superSecret'</span><span class="cm-undefined">,</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">8</div><pre>        <span class="cm-string cm-property">'elise'</span><span class="cm-undefined">: </span><span class="cm-string">'12345678'</span><span class="cm-undefined">,</span></pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">9</div><pre>    }</pre></div><div class="CodeMirror-line"><div class="CodeMirror-linenumber">10</div><pre>}))</pre></div></div></div></div><pre class="code-raw noIndex " style="display:none;">// index.js
const app = express()
const basicAuth = require('express-basic-auth')

app.use(basicAuth({
    users: {
        'john': 'superSecret',
        'elise': '12345678',
    }
}))</pre></div></div></div></div></div><div class="syntax pBk"><h3 class="syntax_ti pBk_ti"><span><i class="type"><span>Syntaxe</span></i><span class="hidden"> : </span><span class="title">&Agrave; retenir</span></span></h3><div class="syntax_co pBk_co"><div class="rBk "><p>Impl&eacute;menter l'authentification <strong class="txt_emp_is ">HTTP Basic</strong> c&ocirc;t&eacute; serveur revient &agrave; attendre des applications clientes qu'elles envoient une requ&ecirc;te avec une ent&ecirc;te HTTP <strong class="txt_emp_is ">Authorization</strong>, avec la valeur <strong class="txt_emp_is ">Basic</strong> suivi des identifiants de connexion qui auront &eacute;t&eacute; encod&eacute;s pour des questions de s&eacute;curit&eacute;.</p></div><div class="rBk "><p>Il existe de nombreuses librairies compatibles avec Express.js pour impl&eacute;menter ce syst&egrave;me en quelques lignes de code, et pour un projet de test c'est plut&ocirc;t pratique et rapide de s'authentifier c&ocirc;t&eacute; client, que ce soit par le navigateur ou &agrave; l'aide d'un logiciel comme Postman.</p></div><div class="rBk "><p>Mais dans la pratique, ce syst&egrave;me d'authentification n'est pas vraiment utilis&eacute; ou recommand&eacute; en production. On lui pr&eacute;f&eacute;rera le standard JWT que vous allez d&eacute;couvrir dans la prochaine partie.</p></div></div></div><div class="iBk info"><div class="iBk_co "><div class="rBk res"><figure role="group" class="resInFlow remoteVideo"><div class="resInFlow_co "><div class="jwplayer" data-media-id="StudiFr/SlH3Nnqq"></div></div></figure></div></div></div><div class="complement pBk"><h3 class="complement_ti pBk_ti"><span><i class="type"><span>Compl&eacute;ment</span></i><span class="hidden"> : </span><span class="title"></span></span></h3><div class="complement_co pBk_co"><div class="rBk "><ul class="txt_il "><li class="txt_ili "><p><a class="op_txt_ul" target="_blank" href="https://developer.mozilla.org/fr/docs/Web/HTTP/Authentication" rel="noopener" title=" HTTP Basic (explication compl&egrave;te) (nouvelle fen&ecirc;tre)"><span> HTTP Basic (explication compl&egrave;te)</span></a></p></li><li class="txt_ili "><p><a class="op_txt_ul" target="_blank" href="https://github.com/LionC/express-basic-auth" rel="noopener" title="Basic Auth Express (nouvelle fen&ecirc;tre)"><span>Basic Auth Express</span></a>&nbsp;: plugin HTTP Basic pour Express.js</p></li></ul></div></div></div></div></section></div></div></div><div id="toolbox"><nav id="menu" class="pageSelector hidden" role="navigation" tabindex="-1" aria-label="menu principal"><hr class="hidden"><ul class="mnu static" data-totalPages="10"><li class="sel_yes anc_no type_l  dpt_0 expUc"><div class="lbl type_l" id="authentifier-aide-mot-passe.html"><span class="item"><span>S'authentifier &agrave; l'aide d'un mot de passe</span></span></div></li><li class="sel_no anc_no type_l  dpt_0 practUc"><div class="lbl type_l" id="authentifier-aide-mot-passe_1.html"><a href="authentifier-aide-mot-passe_1.html" target="_self" class="item"><span>Exercice&nbsp;: Quiz</span></a></div></li><li class="sel_no anc_no type_l  dpt_0 expUc"><div class="lbl type_l" id="authentifier-aide-token.html"><a href="authentifier-aide-token.html" target="_self" class="item"><span>S'authentifier &agrave; l'aide d'un token</span></a></div></li><li class="sel_no anc_no type_l  dpt_0 practUc"><div class="lbl type_l" id="authentifier-aide-token_1.html"><a href="authentifier-aide-token_1.html" target="_self" class="item"><span>Exercice&nbsp;: Quiz</span></a></div></li><li class="sel_no anc_no type_l  dpt_0 expUc"><div class="lbl type_l" id="oauth-protocole-authentificati.html"><a href="oauth-protocole-authentificati.html" target="_self" class="item"><span>OAuth : protocole d'authentification</span></a></div></li><li class="sel_no anc_no type_l  dpt_0 practUc"><div class="lbl type_l" id="oauth-protocole-authentificati_1.html"><a href="oauth-protocole-authentificati_1.html" target="_self" class="item"><span>Exercice&nbsp;: Quiz</span></a></div></li><li class="sel_no anc_no type_l  dpt_0 expUc"><div class="lbl type_l" id="essentiel.html"><a href="essentiel.html" target="_self" class="item"><span>Essentiel</span></a></div></li><li class="sel_no anc_no type_b  type_b_c dpt_0 ueDiv"><div class="lbl type_b" id="auto-evaluation.html"><a href="auto-evaluation.html" target="_self" class="item"><span>Auto-&eacute;valuation</span></a></div></li></ul></nav><div id="tools" tabindex="-1"><hr class="hidden"><nav class="headingSelector" role="navigation"><ul class="mnu"><li class="anc_no home" data-position="uncle"><div class="lbl"><a href="module-gerer-acces-api.html" target="_self" class="item" type="index" title="Page d'accueil du module"><span>Accueil</span></a></div></li><li class="anc_yes module" data-position="parent"><div class="lbl"><span class="item"><span>Module</span></span></div></li></ul></nav></div><div id="navigation" tabindex="-1"><hr class="hidden"><a class="showMenu" role="button" href="#" target="_self" title="Menu" onclick="studiMgr.showHideMenu();return false;"><span>Menu</span></a><div id="fontSize"><a class="increase_font" href="#" title="Augmenter taille police" onclick="studiMgr.increaseFont();return false;"></a><a class="decrease_font" href="#" title="Diminuer taille police" onclick="studiMgr.decreaseFont();return false;"></a></div><nav class="pageTurner" role="navigation"><a rel="prev" href="module-gerer-acces-api.html" target="_self" class="btnNav prev" title="Pr&eacute;c&eacute;dent (Accueil)"><span>Pr&eacute;c&eacute;dent</span></a><a rel="next" href="authentifier-aide-mot-passe_1.html" target="_self" class="btnNav next" title="Suivant (Exercice&nbsp;: Quiz)"><span>Suivant</span></a></nav></div></div></main><footer id="footer" role="contentinfo" tabindex="-1"><hr class="hidden"><a id="linkSp" target="_blank" href="https://www.scenari.org" title="R&eacute;alis&eacute; avec Scenari (nouvelle fen&ecirc;tre)"><span><img alt="R&eacute;alis&eacute; avec Scenari (nouvelle fen&ecirc;tre)" src="../skin/img/tpl/scBtn.png"></span></a></footer></div>
  <script type="text/JavaScript" src="../skin/js/skin.js"></script>
  <script type="text/javascript">searchMgr.init({searchType:"listResults"});studiMgr.init();tplMgr.init();outMgr.init();scCodeMgr.init();scImgMgr.init();scMediaMgr.init("ide:content/chi:div/chi:section/des:.mediaPlayer",{processYoutubeUrls :true});</script>
 </body>
</html>
